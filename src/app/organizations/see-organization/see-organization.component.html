
<app-modal>
  <div class="organization-details" *ngIf="editableOrganization">
    <div class="header">
      <h2>Detalhes da Organização</h2>
      <button class="close-btn" (click)="close()">×</button>
    </div>

    <div class="content">
      <div class="field-group">
        <label>Nome:</label>
        <input 
          type="text" 
          class="editable-field" 
          [(ngModel)]="editableOrganization.name"
          (ngModelChange)="onFieldChange()"
          placeholder="Digite o nome da organização"
        />
      </div>

      <div class="field-group">
        <label>CNPJ:</label>
        <input 
          type="text" 
          class="editable-field" 
          [(ngModel)]="editableOrganization.cnpj"
          (ngModelChange)="onFieldChange()"
          placeholder="Digite o CNPJ"
        />
      </div>

      <div class="field-group">
        <label>Endereço:</label>
        <input 
          type="text" 
          class="editable-field" 
          [(ngModel)]="editableOrganization.address"
          (ngModelChange)="onFieldChange()"
          placeholder="Digite o endereço"
        />
      </div>

      <div class="field-group">
        <label>Telefone:</label>
        <input 
          type="text" 
          class="editable-field" 
          [(ngModel)]="editableOrganization.phone"
          (ngModelChange)="onFieldChange()"
          placeholder="Digite o telefone"
        />
      </div>

      <div class="field-group" *ngIf="editableOrganization.owner">
        <label>Proprietário:</label>
        <div class="owner-info">
          <p>
            <strong>Nome:</strong> {{ editableOrganization.owner.firstName }}
            {{ editableOrganization.owner.lastName }}
          </p>
          <p><strong>Email:</strong> {{ editableOrganization.owner.email }}</p>
        </div>
      </div>
    </div>

    <div class="actions">
      <button 
        *ngIf="hasChanges" 
        class="btn-primary" 
        (click)="saveChanges()"
        [disabled]="isUpdating"
      >
        {{ isUpdating ? 'Salvando...' : 'Salvar' }}
      </button>
      <button 
        *ngIf="hasChanges" 
        class="btn-tertiary" 
        (click)="cancelChanges()"
        [disabled]="isUpdating"
      >
        Cancelar
      </button>
      <button class="btn-secondary" (click)="close()">Fechar</button>
    </div>
  </div>
</app-modal>
